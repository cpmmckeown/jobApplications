/* Source: ../global/fedkit/js/libraries/mdgx.js */
window.MDGX=window.mdgx||window.MDGX||{};MDGX.debug=true;MDGX.debug=false;if(!window.console){window.console={};window.console.log=function(){}}var L=(function(){var a,c=/\{\!\s?(.+?)\s?\!\}/g;MADGEXi18n=window.MADGEXi18n||{};function b(d,e){return d.replace(c,function(g,h){var i=e[h]||"";if(!i){console.error("Translation param length mismatch on string: ",d);if(MADGEXi18n.__MISMATCH.indexOf(d)==-1){MADGEXi18n.__MISMATCH.push(d)}}return i})}return function(d,e){if(!window.MADGEXi18n){console.error("No translation dictionary found, falling back to input string:",d);return b(d)}if(!MADGEXi18n.__MISSING||!MADGEXi18n.__MISMATCH){MADGEXi18n.__MISSING=[];MADGEXi18n.__MISMATCH=[]}a=MADGEXi18n[d];if(!a){console.error("No translation exists, falling back to input string:",d);if(MADGEXi18n.__MISSING.indexOf(d)==-1){MADGEXi18n.__MISSING.push(d)}return b(d,e)}else{if(a&&!e){return a}else{return b(a,e)}}}})();window.addEventListener("message",function(b){var a;if(b.data=="MDGX.pageSize"){a={width:document.body.scrollWidth,height:document.body.scrollHeight};if(MDGX.debug){console.log("pageSize: Replying to size request.",a)}b.source.postMessage(JSON.stringify({name:"MDGX.pageSizeResponse",dimensions:a}),b.origin)}},false);
/* Source: ../global/fedkit/js/plugins/click-stat-tracking.js */
(function SetupClickStatTracking(a){var e=document.querySelectorAll("[data-click-tracking]");for(var c=0;c<e.length;c++){e[c].addEventListener("click",f,false)}function f(g){var h=g.currentTarget,i=null;if(h&&h.dataset&&h.dataset.clickTracking){i=b(h.dataset.clickTracking);if(null!==i){return d(a,i)}}}function b(g){var h=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;if(h.test(g)){return JSON.parse(g)}return null}function d(j,h){var g=Object.keys(h).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(h[k])}).join("&");var i=new XMLHttpRequest();i.open("POST",j,true);i.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");i.send(g)}})(mdgx.clickStatTrackingPath);
/* Source: ../global/fedkit/js/plugins/autocomplete.js */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(a){var d=(function(){return{extend:function(f,e){return a.extend(f,e)},createNode:function(f){var e=document.createElement("div");e.innerHTML=f;return e.firstChild}}}()),c={ESC:27,TAB:9,RETURN:13,UP:38,DOWN:40};function b(f,h){var g=function(){},i=this,e={autoSelectFirst:false,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:false,onSearchStart:g,onSearchComplete:g,containerClass:"autocomplete-suggestions",tabDisabled:false,dataType:"text",suggestRemainsOnReturn:false,lookupFilter:function(l,j,k){return l.value.toLowerCase().indexOf(k)!==-1},paramName:"query",transformResult:function(j){return typeof j==="string"?a.parseJSON(j):j}};i.element=f;i.el=a(f);i.suggestions=[];i.badQueries=[];i.selectedIndex=-1;i.currentValue=i.element.value;i.intervalId=0;i.cachedResponse=[];i.onChangeInterval=null;i.onChange=null;i.ignoreValueChange=false;i.isLocal=false;i.suggestionsContainer=null;i.options=a.extend({},e,h);i.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"};i.initialize();i.setOptions(h)}b.utils=d;a.Autocomplete=b;b.formatResult=function(h,e){var g=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),f="("+e.replace(g,"\\$1")+")";return h.value.replace(new RegExp(f,"gi"),"<strong>$1</strong>")};b.prototype={killerFn:null,initialize:function(){var i=this,h="."+i.classes.suggestion,g=i.classes.selected,f=i.options,e;i.element.setAttribute("autocomplete","off");i.killerFn=function(j){if(a(j.target).closest("."+i.options.containerClass).length===0){i.killSuggestions();i.disableKillerFn()}};if(!f.width||f.width==="auto"){f.width=i.el.outerWidth()}i.suggestionsContainer=b.utils.createNode('<div class="'+f.containerClass+'" style="position: absolute; display: none;"></div>');e=a(i.suggestionsContainer);e.appendTo(f.appendTo).width(f.width);e.on("mouseover.autocomplete",h,function(){i.activate(a(this).data("index"))});e.on("mouseout.autocomplete",function(){i.selectedIndex=-1;e.children("."+g).removeClass(g)});e.on("click.autocomplete",h,function(){i.select(a(this).data("index"),false)});i.fixPosition();if(window.opera){i.el.on("keypress.autocomplete",function(j){i.onKeyPress(j)})}else{i.el.on("keydown.autocomplete",function(j){i.onKeyPress(j)})}i.el.on("keyup.autocomplete",function(j){i.onKeyUp(j)});i.el.on("blur.autocomplete",function(){i.onBlur()});i.el.on("focus.autocomplete",function(){i.fixPosition()})},onBlur:function(){this.enableKillerFn()},setOptions:function(f){var g=this,e=g.options;d.extend(e,f);g.isLocal=a.isArray(e.lookup);if(g.isLocal){e.lookup=g.verifySuggestionsFormat(e.lookup)}a(g.suggestionsContainer).css({"max-height":e.maxHeight+"px",width:e.width+"px","z-index":e.zIndex})},clearCache:function(){this.cachedResponse=[];this.badQueries=[]},clear:function(){this.clearCache();this.currentValue=null;this.suggestions=[]},disable:function(){this.disabled=true},enable:function(){this.disabled=false},fixPosition:function(){var f=this,e;if(f.options.appendTo!=="body"){return}e=f.el.offset();a(f.suggestionsContainer).css({top:(e.top+f.el.outerHeight())+"px",left:e.left+"px"})},enableKillerFn:function(){var e=this;a(document).on("click.autocomplete",e.killerFn)},disableKillerFn:function(){var e=this;a(document).off("click.autocomplete",e.killerFn)},killSuggestions:function(){var e=this;e.stopKillSuggestions();e.intervalId=window.setInterval(function(){e.hide();e.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onKeyPress:function(f){var g=this;if(!g.disabled&&!g.visible&&f.keyCode===c.DOWN&&g.currentValue){g.suggest();return}if(g.disabled||!g.visible){return}switch(f.keyCode){case c.ESC:g.el.val(g.currentValue);g.hide();break;case c.TAB:case c.RETURN:if(g.selectedIndex===-1&&this.options.suggestRemainsOnReturn===false){g.hide();return}g.select(g.selectedIndex,f.keyCode===c.RETURN);if(f.keyCode===c.TAB&&this.options.tabDisabled===false){return}break;case c.UP:g.moveUp();break;case c.DOWN:g.moveDown();break;default:return}f.stopImmediatePropagation();f.preventDefault()},onKeyUp:function(f){var g=this;if(g.disabled){return}switch(f.keyCode){case c.UP:case c.DOWN:return}clearInterval(g.onChangeInterval);if(g.currentValue!==g.el.val()){if(g.options.deferRequestBy>0){g.onChangeInterval=setInterval(function(){g.onValueChange()},g.options.deferRequestBy)}else{g.onValueChange()}}},onValueChange:function(){var f=this,e;clearInterval(f.onChangeInterval);f.currentValue=f.element.value;e=f.getQuery(f.currentValue);f.selectedIndex=-1;if(f.ignoreValueChange){f.ignoreValueChange=false;return}if(e.length<f.options.minChars){f.hide()}else{f.getSuggestions(e)}},getQuery:function(g){var e=this.options.delimiter,f;if(!e){return g}f=g.split(e);return f[f.length-1]},getSuggestionsLocal:function(f){var h=this,g=f.toLowerCase(),e=h.options.lookupFilter;return{suggestions:a.grep(h.options.lookup,function(i){return e(i,f,g)})}},getSuggestions:function(f){var g,i=this,e=i.options,h=e.serviceUrl;g=i.isLocal?i.getSuggestionsLocal(f):i.cachedResponse[f];if(g&&a.isArray(g.suggestions)){i.suggestions=g.suggestions;i.suggest()}else{if(!i.isBadQuery(f)){e.params[e.paramName]=f;if(e.onSearchStart.call(i.element,e.params)===false){return}if(a.isFunction(e.serviceUrl)){h=e.serviceUrl.call(i.element,f)}a.ajax({url:h,data:e.ignoreParams?null:e.params,type:e.type,dataType:e.dataType}).done(function(j){i.processResponse(j,f);e.onSearchComplete.call(i.element,f)})}}},isBadQuery:function(g){var e=this.badQueries,f=e.length;while(f--){if(g.indexOf(e[f])===0){return true}}return false},hide:function(){var e=this;e.visible=false;e.selectedIndex=-1;a(e.suggestionsContainer).hide()},suggest:function(){if(this.suggestions.length===0){this.hide();return}var j=this,h=j.options.formatResult,k=j.getQuery(j.currentValue),e=j.classes.suggestion,f=j.classes.selected,g=a(j.suggestionsContainer),i="";a.each(j.suggestions,function(l,m){i+='<div class="'+e+'" data-index="'+l+'">'+h(m,k)+"</div>"});g.html(i).show();j.visible=true;if(j.options.autoSelectFirst){j.selectedIndex=0;g.children().first().addClass(f)}},verifySuggestionsFormat:function(e){if(e.length&&typeof e[0]==="string"){return a.map(e,function(f){return{value:f,data:null}})}return e},processResponse:function(g,f){var i=this,e=i.options,h=e.transformResult(g,f);h.suggestions=i.verifySuggestionsFormat(h.suggestions);if(!e.noCache){i.cachedResponse[h[e.paramName]]=h;if(h.suggestions.length===0){i.badQueries.push(h[e.paramName])}}if(f===i.getQuery(i.currentValue)){i.suggestions=h.suggestions;i.suggest()}},activate:function(h){var j=this,e,i=j.classes.selected,g=a(j.suggestionsContainer),f=g.children();g.children("."+i).removeClass(i);j.selectedIndex=h;if(j.selectedIndex!==-1&&f.length>j.selectedIndex){e=f.get(j.selectedIndex);a(e).addClass(i);return e}return null},select:function(e,g){var h=this,f=h.suggestions[e];if(f){h.el.val(f);h.ignoreValueChange=g;h.hide();h.onSelect(e)}},moveUp:function(){var e=this;if(e.selectedIndex===-1){return}if(e.selectedIndex===0){a(e.suggestionsContainer).children().first().removeClass(e.classes.selected);e.selectedIndex=-1;e.el.val(e.currentValue);return}e.adjustScroll(e.selectedIndex-1)},moveDown:function(){var e=this;if(e.selectedIndex===(e.suggestions.length-1)){return}e.adjustScroll(e.selectedIndex+1)},adjustScroll:function(g){var j=this,e=j.activate(g),i,k,h,f=25;if(!e){return}i=e.offsetTop;k=a(j.suggestionsContainer).scrollTop();h=k+j.options.maxHeight-f;if(i<k){a(j.suggestionsContainer).scrollTop(i)}else{if(i>h){a(j.suggestionsContainer).scrollTop(i-j.options.maxHeight+f)}}j.el.val(j.getValue(j.suggestions[g].value))},onSelect:function(e){var h=this,f=h.options.onSelect,g=h.suggestions[e];h.el.val(h.getValue(g.value));if(a.isFunction(f)){f.call(h.element,g)}},getValue:function(i){var h=this,f=h.options.delimiter,e,g;if(!f){return i}e=h.currentValue;g=e.split(f);if(g.length===1){return i}return e.substr(0,e.length-g[g.length-1].length)+i},dispose:function(){var e=this;e.el.off(".autocomplete").removeData("autocomplete");e.disableKillerFn();a(e.suggestionsContainer).remove()}};a.fn.autocomplete=function(g,e){var f="autocomplete";if(arguments.length===0){return this.first().data(f)}return this.each(function(){var h=a(this),i=h.data(f);if(typeof g==="string"){if(i&&typeof i[g]==="function"){i[g](e)}}else{if(i&&i.dispose){i.dispose()}i=new b(this,g);h.data(f,i)}})}}));
/* Source: ../global/fedkit/js/plugins/filechooser.js */
$.fn.filechooser=function(d){if(this.length<1){return this}d=$.extend({OnSupported:function(){},OnNotSupported:function(){}},d);if(!d.FileChooserDomain){throw new Error("Missing setting: FileChooserDomain")}if(d.FileChooserDomain.lastIndexOf("/")==d.FileChooserDomain.length-1){d.FileChooserDomain=d.FileChooserDomain.substring(0,d.FileChooserDomain.length-1)}var b=d.FileChooserDomain+"/compatibility-check/";var a=$("<iframe />",{src:b});$("body").append(a);a.hide();var c=function(g){var h=g.originalEvent;if(h.origin!==d.FileChooserDomain&&h.origin!=="http://localhost"){return}var k=h.data.split(":");var l=k.shift();var j=k.shift();switch(l){case"compatibility":switch(j){case"response":var f=k.shift();var i=(true.toString()===f);if(i){d.OnSupported()}else{d.OnNotSupported()}a.remove();break}break}};$(window).on("message",c);return this};
/* Source: ../global/fedkit/js/plugins/mailcheck.js */
var Kicksend={mailcheck:{threshold:3,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","hotmail.co.uk","yahoo.co.uk","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","outlook.com","icloud.com"],defaultTopLevelDomains:["co.jp","co.uk","com","net","org","info","edu","gov","mil","ca"],run:function(c){c.domains=c.domains||Kicksend.mailcheck.defaultDomains;c.topLevelDomains=c.topLevelDomains||Kicksend.mailcheck.defaultTopLevelDomains;c.distanceFunction=c.distanceFunction||Kicksend.sift3Distance;var a=function(f){return f};var e=c.suggested||a;var b=c.empty||a;var d=Kicksend.mailcheck.suggest(encodeURI(c.email),c.domains,c.topLevelDomains,c.distanceFunction);return d?e(d):b()},suggest:function(f,e,h,c){f=f.toLowerCase();var g=this.splitEmail(f);var a=this.findClosestDomain(g.domain,e,c);if(a){if(a!=g.domain){return{address:g.address,domain:a,full:g.address+"@"+a}}}else{var b=this.findClosestDomain(g.topLevelDomain,h);if(g.domain&&b&&b!=g.topLevelDomain){var d=g.domain;a=d.substring(0,d.lastIndexOf(g.topLevelDomain))+b;return{address:g.address,domain:a,full:g.address+"@"+a}}}return false},findClosestDomain:function(d,e,c){var b;var g=99;var a=null;if(!d||!e){return false}if(!c){c=this.sift3Distance}for(var f=0;f<e.length;f++){if(d===e[f]){return d}b=c(d,e[f]);if(b<g){g=b;a=e[f]}}if(g<=this.threshold&&a!==null){return a}else{return false}},sift3Distance:function(h,j){if(h==null||h.length===0){if(j==null||j.length===0){return 0}else{return j.length}}if(j==null||j.length===0){return h.length}var a=0;var f=0;var g=0;var d=0;var e=5;while((a+f<h.length)&&(a+g<j.length)){if(h.charAt(a+f)==j.charAt(a+g)){d++}else{f=0;g=0;for(var b=0;b<e;b++){if((a+b<h.length)&&(h.charAt(a+b)==j.charAt(a))){f=b;break}if((a+b<j.length)&&(h.charAt(a)==j.charAt(a+b))){g=b;break}}}a++}return(h.length+j.length)/2-d},splitEmail:function(c){var e=c.split("@");if(e.length<2){return false}for(var d=0;d<e.length;d++){if(e[d]===""){return false}}var a=e.pop();var b=a.split(".");var f="";if(b.length==0){return false}else{if(b.length==1){f=b[0]}else{for(var d=1;d<b.length;d++){f+=b[d]+"."}if(b.length>=2){f=f.substring(0,f.length-1)}}}return{topLevelDomain:f,domain:a,address:e.join("@")}}}};if(typeof module!=="undefined"&&module.exports){module.exports=Kicksend.mailcheck}if(typeof window!=="undefined"&&window.jQuery){(function(a){a.fn.mailcheck=function(d){var e=this;if(d.suggested){var c=d.suggested;d.suggested=function(f){c(e,f)}}if(d.empty){var b=d.empty;d.empty=function(){b.call(null,e)}}d.email=this.val();Kicksend.mailcheck.run(d)}})(jQuery);
/* Source: ../global/fedkit/js/plugins/fastclick.js */
}(function(){function g(n,q){var p;q=q||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=q.touchBoundary||10;this.layer=n;this.tapDelay=q.tapDelay||200;this.tapTimeout=q.tapTimeout||700;if(g.notNeeded(n)){return}function h(l,i){return function(){return l.apply(i,arguments)}}var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var j=this;for(var k=0,m=o.length;k<m;k++){j[o[k]]=h(j[o[k]],j)}if(a){n.addEventListener("mouseover",this.onMouse,true);n.addEventListener("mousedown",this.onMouse,true);n.addEventListener("mouseup",this.onMouse,true)}n.addEventListener("click",this.onClick,true);n.addEventListener("touchstart",this.onTouchStart,false);n.addEventListener("touchmove",this.onTouchMove,false);n.addEventListener("touchend",this.onTouchEnd,false);n.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){n.removeEventListener=function(s,i,l){var r=Node.prototype.removeEventListener;if(s==="click"){r.call(n,s,i.hijacked||i,l)}else{r.call(n,s,i,l)}};n.addEventListener=function(s,l,r){var i=Node.prototype.addEventListener;if(s==="click"){i.call(n,s,l.hijacked||(l.hijacked=function(t){if(!t.propagationStopped){l(t)}}),r)}else{i.call(n,s,l,r)}}}if(typeof n.onclick==="function"){p=n.onclick;n.addEventListener("click",function(i){p(i)},false);n.onclick=null}}var f=navigator.userAgent.indexOf("Windows Phone")>=0;var a=navigator.userAgent.indexOf("Android")>0&&!f;var c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!f;var d=c&&(/OS 4_\d(_\d)?/).test(navigator.userAgent);var e=c&&(/OS [6-7]_\d/).test(navigator.userAgent);var b=navigator.userAgent.indexOf("BB10")>0;g.prototype.needsClick=function(h){switch(h.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(h.disabled){return true}break;case"input":if((c&&h.type==="file")||h.disabled){return true}break;case"label":case"iframe":case"video":return true}return(/\bneedsclick\b/).test(h.className)};g.prototype.needsFocus=function(h){switch(h.nodeName.toLowerCase()){case"textarea":return true;case"select":return !a;case"input":switch(h.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return !h.disabled&&!h.readOnly;default:return(/\bneedsfocus\b/).test(h.className)}};g.prototype.sendClick=function(j,i){var h,k;if(document.activeElement&&document.activeElement!==j){document.activeElement.blur()}k=i.changedTouches[0];h=document.createEvent("MouseEvents");h.initMouseEvent(this.determineEventType(j),true,true,window,1,k.screenX,k.screenY,k.clientX,k.clientY,false,false,false,false,0,null);h.forwardedTouchEvent=true;j.dispatchEvent(h)};g.prototype.determineEventType=function(h){if(a&&h.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};g.prototype.focus=function(i){var h;if(c&&i.setSelectionRange&&i.type.indexOf("date")!==0&&i.type!=="time"&&i.type!=="month"){h=i.value.length;i.setSelectionRange(h,h)}else{i.focus()}};g.prototype.updateScrollParent=function(j){var i,h;i=j.fastClickScrollParent;if(!i||!i.contains(j)){h=j;do{if(h.scrollHeight>h.offsetHeight){i=h;j.fastClickScrollParent=h;break}h=h.parentElement}while(h)}if(i){i.fastClickLastScrollTop=i.scrollTop}};g.prototype.getTargetElementFromEventTarget=function(h){if(h.nodeType===Node.TEXT_NODE){return h.parentNode}return h};g.prototype.onTouchStart=function(h){var j,k,i;if(h.targetTouches.length>1){return true}j=this.getTargetElementFromEventTarget(h.target);k=h.targetTouches[0];if(c){i=window.getSelection();if(i.rangeCount&&!i.isCollapsed){return true}if(!d){if(k.identifier&&k.identifier===this.lastTouchIdentifier){h.preventDefault();return false}this.lastTouchIdentifier=k.identifier;this.updateScrollParent(j)}}this.trackingClick=true;this.trackingClickStart=h.timeStamp;this.targetElement=j;this.touchStartX=k.pageX;this.touchStartY=k.pageY;if((h.timeStamp-this.lastClickTime)<this.tapDelay){h.preventDefault()}return true};g.prototype.touchHasMoved=function(i){var j=i.changedTouches[0],h=this.touchBoundary;if(Math.abs(j.pageX-this.touchStartX)>h||Math.abs(j.pageY-this.touchStartY)>h){return true}return false};g.prototype.onTouchMove=function(h){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(h.target)||this.touchHasMoved(h)){this.trackingClick=false;this.targetElement=null}return true};g.prototype.findControl=function(h){if(h.control!==undefined){return h.control}if(h.htmlFor){return document.getElementById(h.htmlFor)}return h.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};g.prototype.onTouchEnd=function(h){var i,n,l,j,m,k=this.targetElement;if(!this.trackingClick){return true}if((h.timeStamp-this.lastClickTime)<this.tapDelay){this.cancelNextClick=true;return true}if((h.timeStamp-this.trackingClickStart)>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=h.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(e){m=h.changedTouches[0];k=document.elementFromPoint(m.pageX-window.pageXOffset,m.pageY-window.pageYOffset)||k;k.fastClickScrollParent=this.targetElement.fastClickScrollParent}l=k.tagName.toLowerCase();if(l==="label"){i=this.findControl(k);if(i){this.focus(k);if(a){return false}k=i}}else{if(this.needsFocus(k)){if((h.timeStamp-n)>100||(c&&window.top!==window&&l==="input")){this.targetElement=null;return false}this.focus(k);this.sendClick(k,h);if(!c||l!=="select"){this.targetElement=null;h.preventDefault()}return false}}if(c&&!d){j=k.fastClickScrollParent;if(j&&j.fastClickLastScrollTop!==j.scrollTop){return true}}if(!this.needsClick(k)){h.preventDefault();this.sendClick(k,h)}return false};g.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};g.prototype.onMouse=function(h){if(!this.targetElement){return true}if(h.forwardedTouchEvent){return true}if(!h.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(h.stopImmediatePropagation){h.stopImmediatePropagation()}else{h.propagationStopped=true}h.stopPropagation();h.preventDefault();return false}return true};g.prototype.onClick=function(h){var i;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(h.target.type==="submit"&&h.detail===0){return true}i=this.onMouse(h);if(!i){this.targetElement=null}return i};g.prototype.destroy=function(){var h=this.layer;if(a){h.removeEventListener("mouseover",this.onMouse,true);h.removeEventListener("mousedown",this.onMouse,true);h.removeEventListener("mouseup",this.onMouse,true)}h.removeEventListener("click",this.onClick,true);h.removeEventListener("touchstart",this.onTouchStart,false);h.removeEventListener("touchmove",this.onTouchMove,false);h.removeEventListener("touchend",this.onTouchEnd,false);h.removeEventListener("touchcancel",this.onTouchCancel,false)};g.notNeeded=function(k){var l;var i;var h;var j;if(typeof window.ontouchstart==="undefined"){return true}i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(i){if(a){l=document.querySelector("meta[name=viewport]");if(l){if(l.content.indexOf("user-scalable=no")!==-1){return true}if(i>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(b){h=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(h[1]>=10&&h[2]>=3){l=document.querySelector("meta[name=viewport]");if(l){if(l.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(k.style.msTouchAction==="none"||k.style.touchAction==="manipulation"){return true}j=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(j>=27){l=document.querySelector("meta[name=viewport]");if(l&&(l.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(k.style.touchAction==="none"||k.style.touchAction==="manipulation"){return true}return false};g.attach=function(h,i){return new g(h,i)};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return g})}else{if(typeof module!=="undefined"&&module.exports){module.exports=g.attach;module.exports.FastClick=g}else{window.FastClick=g}}}());
/* Source: ../global/fedkit/js/plugins/magnific-popup.js */
/* Magnific Popup - v1.0.0 - 2015-01-03
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2015 Dmitry Semenov; */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(window.jQuery||window.Zepto)}}}(function(a){var F="Close",D="BeforeClose",A="AfterClose",C="BeforeAppend",N="MarkupParse",Q="Open",E="Change",P="mfp",G="."+P,S="mfp-ready",T="mfp-removing",R="mfp-prevent-close";var O,M=function(){},p=!!(window.jQuery),u,y=a(window),f,t,z,d;var r=function(W,V){O.ev.on(P+W+G,V)},j=function(W,V,Y,Z){var X=document.createElement("div");X.className="mfp-"+W;if(Y){X.innerHTML=Y}if(!Z){X=a(X);if(V){X.appendTo(V)}}else{if(V){V.appendChild(X)}}return X},s=function(W,V){O.ev.triggerHandler(P+W,V);if(O.st.callbacks){W=W.charAt(0).toLowerCase()+W.slice(1);if(O.st.callbacks[W]){O.st.callbacks[W].apply(O,a.isArray(V)?V:[V])}}},i=function(V){if(V!==d||!O.currTemplate.closeBtn){O.currTemplate.closeBtn=a(O.st.closeMarkup.replace("%title%",O.st.tClose));d=V}return O.currTemplate.closeBtn},c=function(){if(!a.magnificPopup.instance){O=new M();O.init();a.magnificPopup.instance=O}},U=function(){var V=document.createElement("p").style,W=["ms","O","Moz","Webkit"];if(V.transition!==undefined){return true}while(W.length){if(W.pop()+"Transition" in V){return true}}return false};M.prototype={constructor:M,init:function(){var V=navigator.appVersion;O.isIE7=V.indexOf("MSIE 7.")!==-1;O.isIE8=V.indexOf("MSIE 8.")!==-1;O.isLowIE=O.isIE7||O.isIE8;O.isAndroid=(/android/gi).test(V);O.isIOS=(/iphone|ipad|ipod/gi).test(V);O.supportsTransition=U();O.probablyMobile=(O.isAndroid||O.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));f=a(document);O.popupsCache={}},open:function(W){var X;if(W.isObj===false){O.items=W.items.toArray();O.index=0;var Z=W.items,Y;for(X=0;X<Z.length;X++){Y=Z[X];if(Y.parsed){Y=Y.el[0]}if(Y===W.el[0]){O.index=X;break}}}else{O.items=a.isArray(W.items)?W.items:[W.items];O.index=W.index||0}if(O.isOpen){O.updateItemHTML();return}O.types=[];z="";if(W.mainEl&&W.mainEl.length){O.ev=W.mainEl.eq(0)}else{O.ev=f}if(W.key){if(!O.popupsCache[W.key]){O.popupsCache[W.key]={}}O.currTemplate=O.popupsCache[W.key]}else{O.currTemplate={}}O.st=a.extend(true,{},a.magnificPopup.defaults,W);O.fixedContentPos=O.st.fixedContentPos==="auto"?!O.probablyMobile:O.st.fixedContentPos;if(O.st.modal){O.st.closeOnContentClick=false;O.st.closeOnBgClick=false;O.st.showCloseBtn=false;O.st.enableEscapeKey=false}if(!O.bgOverlay){O.bgOverlay=j("bg").on("click"+G,function(){O.close()});O.wrap=j("wrap").attr("tabindex",-1).on("click"+G,function(af){if(O._checkIfClose(af.target)){O.close()}});O.container=j("container",O.wrap)}O.contentContainer=j("content");if(O.st.preloader){O.preloader=j("preloader",O.container,O.st.tLoading)}var aa=a.magnificPopup.modules;for(X=0;X<aa.length;X++){var ab=aa[X];ab=ab.charAt(0).toUpperCase()+ab.slice(1);O["init"+ab].call(O)}s("BeforeOpen");if(O.st.showCloseBtn){if(!O.st.closeBtnInside){O.wrap.append(i())}else{r(N,function(af,ah,ai,ag){ai.close_replaceWith=i(ag.type)});z+=" mfp-close-btn-in"}}if(O.st.alignTop){z+=" mfp-align-top"}if(O.fixedContentPos){O.wrap.css({overflow:O.st.overflowY,overflowX:"hidden",overflowY:O.st.overflowY})}else{O.wrap.css({top:y.scrollTop(),position:"absolute"})}if(O.st.fixedBgPos===false||(O.st.fixedBgPos==="auto"&&!O.fixedContentPos)){O.bgOverlay.css({height:f.height(),position:"absolute"})}if(O.st.enableEscapeKey){f.on("keyup"+G,function(af){if(af.keyCode===27){O.close()}})}y.on("resize"+G,function(){O.updateSize()});if(!O.st.closeOnContentClick){z+=" mfp-auto-cursor"}if(z){O.wrap.addClass(z)}var ad=O.wH=y.height();var ae={};if(O.fixedContentPos){if(O._hasScrollBar(ad)){var ac=O._getScrollbarSize();if(ac){ae.marginRight=ac}}}if(O.fixedContentPos){if(!O.isIE7){ae.overflow="hidden"}else{a("body, html").css("overflow","hidden")}}var V=O.st.mainClass;if(O.isIE7){V+=" mfp-ie7"}if(V){O._addClassToMFP(V)}O.updateItemHTML();s("BuildControls");a("html").css(ae);O.bgOverlay.add(O.wrap).prependTo(O.st.prependTo||a(document.body));O._lastFocusedEl=document.activeElement;setTimeout(function(){if(O.content){O._addClassToMFP(S);O._setFocus()}else{O.bgOverlay.addClass(S)}f.on("focusin"+G,O._onFocusIn)},16);O.isOpen=true;O.updateSize(ad);s(Q);return W},close:function(){if(!O.isOpen){return}s(D);O.isOpen=false;if(O.st.removalDelay&&!O.isLowIE&&O.supportsTransition){O._addClassToMFP(T);setTimeout(function(){O._close()},O.st.removalDelay)}else{O._close()}},_close:function(){s(F);var V=T+" "+S+" ";O.bgOverlay.detach();O.wrap.detach();O.container.empty();if(O.st.mainClass){V+=O.st.mainClass+" "}O._removeClassFromMFP(V);if(O.fixedContentPos){var W={marginRight:""};if(O.isIE7){a("body, html").css("overflow","")}else{W.overflow=""}a("html").css(W)}f.off("keyup"+G+" focusin"+G);O.ev.off(G);O.wrap.attr("class","mfp-wrap").removeAttr("style");O.bgOverlay.attr("class","mfp-bg");O.container.attr("class","mfp-container");if(O.st.showCloseBtn&&(!O.st.closeBtnInside||O.currTemplate[O.currItem.type]===true)){if(O.currTemplate.closeBtn){O.currTemplate.closeBtn.detach()}}if(O._lastFocusedEl){a(O._lastFocusedEl).focus()}O.currItem=null;O.content=null;O.currTemplate=null;O.prevHeight=0;s(A)},updateSize:function(W){if(O.isIOS){var X=document.documentElement.clientWidth/window.innerWidth;var V=window.innerHeight*X;O.wrap.css("height",V);O.wH=V}else{O.wH=W||y.height()}if(!O.fixedContentPos){O.wrap.css("height",O.wH)}s("Resize")},updateItemHTML:function(){var V=O.items[O.index];O.contentContainer.detach();if(O.content){O.content.detach()}if(!V.parsed){V=O.parseEl(O.index)}var Y=V.type;s("BeforeChange",[O.currItem?O.currItem.type:"",Y]);O.currItem=V;if(!O.currTemplate[Y]){var W=O.st[Y]?O.st[Y].markup:false;s("FirstMarkupParse",W);if(W){O.currTemplate[Y]=a(W)}else{O.currTemplate[Y]=true}}if(t&&t!==V.type){O.container.removeClass("mfp-"+t+"-holder")}var X=O["get"+Y.charAt(0).toUpperCase()+Y.slice(1)](V,O.currTemplate[Y]);O.appendContent(X,Y);V.preloaded=true;s(E,V);t=V.type;O.container.prepend(O.contentContainer);s("AfterChange")},appendContent:function(V,W){O.content=V;if(V){if(O.st.showCloseBtn&&O.st.closeBtnInside&&O.currTemplate[W]===true){if(!O.content.find(".mfp-close").length){O.content.append(i())}}else{O.content=V}}else{O.content=""}s(C);O.container.addClass("mfp-"+W+"-holder");O.contentContainer.append(O.content)},parseEl:function(W){var X=O.items[W],Y;if(X.tagName){X={el:a(X)}}else{Y=X.type;X={data:X,src:X.src}}if(X.el){var Z=O.types;for(var V=0;V<Z.length;V++){if(X.el.hasClass("mfp-"+Z[V])){Y=Z[V];break}}X.src=X.el.attr("data-mfp-src");if(!X.src){X.src=X.el.attr("href")}}X.type=Y||O.st.type||"inline";X.index=W;X.parsed=true;O.items[W]=X;s("ElementParse",X);return O.items[W]},addGroup:function(W,Y){var V=function(Z){Z.mfpEl=this;O._openClick(Z,W,Y)};if(!Y){Y={}}var X="click.magnificPopup";Y.mainEl=W;if(Y.items){Y.isObj=true;W.off(X).on(X,V)}else{Y.isObj=false;if(Y.delegate){W.off(X).on(X,Y.delegate,V)}else{Y.items=W;W.off(X).on(X,V)}}},_openClick:function(W,X,Z){var Y=Z.midClick!==undefined?Z.midClick:a.magnificPopup.defaults.midClick;if(!Y&&(W.which===2||W.ctrlKey||W.metaKey)){return}var V=Z.disableOn!==undefined?Z.disableOn:a.magnificPopup.defaults.disableOn;if(V){if(a.isFunction(V)){if(!V.call(O)){return true}}else{if(y.width()<V){return true}}}if(W.type){W.preventDefault();if(O.isOpen){W.stopPropagation()}}Z.el=a(W.mfpEl);if(Z.delegate){Z.items=X.find(Z.delegate)}O.open(Z)},updateStatus:function(W,X){if(O.preloader){if(u!==W){O.container.removeClass("mfp-s-"+u)}if(!X&&W==="loading"){X=O.st.tLoading}var V={status:W,text:X};s("UpdateStatus",V);W=V.status;X=V.text;O.preloader.html(X);O.preloader.find("a").on("click",function(Y){Y.stopImmediatePropagation()});O.container.addClass("mfp-s-"+W);u=W}},_checkIfClose:function(X){if(a(X).hasClass(R)){return}var W=O.st.closeOnContentClick;var V=O.st.closeOnBgClick;if(W&&V){return true}else{if(!O.content||a(X).hasClass("mfp-close")||(O.preloader&&X===O.preloader[0])){return true}if((X!==O.content[0]&&!a.contains(O.content[0],X))){if(V){if(a.contains(document,X)){return true}}}else{if(W){return true}}}return false},_addClassToMFP:function(V){O.bgOverlay.addClass(V);O.wrap.addClass(V)},_removeClassFromMFP:function(V){this.bgOverlay.removeClass(V);O.wrap.removeClass(V)},_hasScrollBar:function(V){return((O.isIE7?f.height():document.body.scrollHeight)>(V||y.height()))},_setFocus:function(){(O.st.focus?O.content.find(O.st.focus).eq(0):O.wrap).focus()},_onFocusIn:function(V){if(V.target!==O.wrap[0]&&!a.contains(O.wrap[0],V.target)){O._setFocus();return false}},_parseMarkup:function(X,Y,W){var V;if(W.data){Y=a.extend(W.data,Y)}s(N,[X,Y,W]);a.each(Y,function(ab,ac){if(ac===undefined||ac===false){return true}V=ab.split("_");if(V.length>1){var aa=X.find(G+"-"+V[0]);if(aa.length>0){var Z=V[1];if(Z==="replaceWith"){if(aa[0]!==ac[0]){aa.replaceWith(ac)}}else{if(Z==="img"){if(aa.is("img")){aa.attr("src",ac)}else{aa.replaceWith('<img src="'+ac+'" class="'+aa.attr("class")+'" />')}}else{aa.attr(V[1],ac)}}}}else{X.find(G+"-"+ab).html(ac)}})},_getScrollbarSize:function(){if(O.scrollbarSize===undefined){var V=document.createElement("div");V.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(V);O.scrollbarSize=V.offsetWidth-V.clientWidth;document.body.removeChild(V)}return O.scrollbarSize}};a.magnificPopup={instance:null,proto:M.prototype,modules:[],open:function(W,V){c();if(!W){W={}}else{W=a.extend(true,{},W)}W.isObj=true;W.index=V||0;return this.instance.open(W)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(W,V){if(V.options){a.magnificPopup.defaults[W]=V.options}a.extend(this.proto,V.proto);this.modules.push(W)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};a.fn.magnificPopup=function(Z){c();var Y=a(this);if(typeof Z==="string"){if(Z==="open"){var X,W=p?Y.data("magnificPopup"):Y[0].magnificPopup,V=parseInt(arguments[1],10)||0;if(W.items){X=W.items[V]}else{X=Y;if(W.delegate){X=X.find(W.delegate)}X=X.eq(V)}O._openClick({mfpEl:X},Y,W)}else{if(O.isOpen){O[Z].apply(O,Array.prototype.slice.call(arguments,1))}}}else{Z=a.extend(true,{},Z);if(p){Y.data("magnificPopup",Z)}else{Y[0].magnificPopup=Z}O.addGroup(Y,Z)}return Y};var K="inline",m,o,q,v=function(){if(q){o.after(q.addClass(m)).detach();q=null}};a.magnificPopup.registerModule(K,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){O.types.push(K);r(F+"."+K,function(){v()})},getInline:function(X,Z){v();if(X.src){var W=O.st.inline,V=a(X.src);if(V.length){var Y=V[0].parentNode;if(Y&&Y.tagName){if(!o){m=W.hiddenClass;o=j(m);m="mfp-"+m}q=V.after(o).detach().removeClass(m)}O.updateStatus("ready")}else{O.updateStatus("error",W.tNotFound);V=a("<div>")}X.inlineElement=V;return V}O.updateStatus("ready");O._parseMarkup(Z,{},X);return Z}}});var B="ajax",b,w=function(){if(b){a(document.body).removeClass(b)}},e=function(){w();if(O.req){O.req.abort()}};a.magnificPopup.registerModule(B,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){O.types.push(B);b=O.st.ajax.cursor;r(F+"."+B,e);r("BeforeChange."+B,e)},getAjax:function(V){if(b){a(document.body).addClass(b)}O.updateStatus("loading");var W=a.extend({url:V.src,success:function(X,aa,Y){var Z={data:X,xhr:Y};s("ParseAjax",Z);O.appendContent(a(Z.data),B);V.finished=true;w();O._setFocus();setTimeout(function(){O.wrap.addClass(S)},16);O.updateStatus("ready");s("AjaxContentAdded")},error:function(){w();V.finished=V.loadError=true;O.updateStatus("error",O.st.ajax.tError.replace("%url%",V.src))}},O.st.ajax.settings);O.req=a.ajax(W);return""}}});var n,l=function(V){if(V.data&&V.data.title!==undefined){return V.data.title}var W=O.st.image.titleSrc;if(W){if(a.isFunction(W)){return W.call(O,V)}else{if(V.el){return V.el.attr(W)||""}}}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var V=O.st.image,W=".image";O.types.push("image");r(Q+W,function(){if(O.currItem.type==="image"&&V.cursor){a(document.body).addClass(V.cursor)}});r(F+W,function(){if(V.cursor){a(document.body).removeClass(V.cursor)}y.off("resize"+G)});r("Resize"+W,O.resizeImage);if(O.isLowIE){r("AfterChange",O.resizeImage)}},resizeImage:function(){var W=O.currItem;if(!W||!W.img){return}if(O.st.image.verticalFit){var V=0;if(O.isLowIE){V=parseInt(W.img.css("padding-top"),10)+parseInt(W.img.css("padding-bottom"),10)}W.img.css("max-height",O.wH-V)}},_onImageHasSize:function(V){if(V.img){V.hasSize=true;if(n){clearInterval(n)}V.isCheckingImgSize=false;s("ImageHasSize",V);if(V.imgHidden){if(O.content){O.content.removeClass("mfp-loading")}V.imgHidden=false}}},findImageSize:function(X){var V=0,W=X.img[0],Y=function(Z){if(n){clearInterval(n)}n=setInterval(function(){if(W.naturalWidth>0){O._onImageHasSize(X);return}if(V>200){clearInterval(n)}V++;if(V===3){Y(10)}else{if(V===40){Y(50)}else{if(V===100){Y(500)}}}},Z)};Y(1)},getImage:function(Z,ac){var W=0,aa=function(){if(Z){if(Z.img[0].complete){Z.img.off(".mfploader");if(Z===O.currItem){O._onImageHasSize(Z);O.updateStatus("ready")}Z.hasSize=true;Z.loaded=true;s("ImageLoadComplete")}else{W++;if(W<200){setTimeout(aa,100)}else{ab()}}}},ab=function(){if(Z){Z.img.off(".mfploader");if(Z===O.currItem){O._onImageHasSize(Z);O.updateStatus("error",Y.tError.replace("%url%",Z.src))}Z.hasSize=true;Z.loaded=true;Z.loadError=true}},Y=O.st.image;var V=ac.find(".mfp-img");if(V.length){var X=document.createElement("img");X.className="mfp-img";if(Z.el&&Z.el.find("img").length){X.alt=Z.el.find("img").attr("alt")}Z.img=a(X).on("load.mfploader",aa).on("error.mfploader",ab);X.src=Z.src;if(V.is("img")){Z.img=Z.img.clone()}X=Z.img[0];if(X.naturalWidth>0){Z.hasSize=true}else{if(!X.width){Z.hasSize=false}}}O._parseMarkup(ac,{title:l(Z),img_replaceWith:Z.img},Z);O.resizeImage();if(Z.hasSize){if(n){clearInterval(n)}if(Z.loadError){ac.addClass("mfp-loading");O.updateStatus("error",Y.tError.replace("%url%",Z.src))}else{ac.removeClass("mfp-loading");O.updateStatus("ready")}return ac}O.updateStatus("loading");Z.loading=true;if(!Z.hasSize){Z.imgHidden=true;ac.addClass("mfp-loading");O.findImageSize(Z)}return ac}}});var I,H=function(){if(I===undefined){I=document.createElement("p").style.MozTransform!==undefined}return I};a.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(V){return V.is("img")?V:V.find("img")}},proto:{initZoom:function(){var ac=O.st.zoom,Z=".zoom",Y;if(!ac.enabled||!O.supportsTransition){return}var W=ac.duration,X=function(ae){var af=ae.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),ah="all "+(ac.duration/1000)+"s "+ac.easing,ad={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ag="transition";ad["-webkit-"+ag]=ad["-moz-"+ag]=ad["-o-"+ag]=ad[ag]=ah;af.css(ad);return af},ab=function(){O.content.css("visibility","visible")},aa,V;r("BuildControls"+Z,function(){if(O._allowZoom()){clearTimeout(aa);O.content.css("visibility","hidden");Y=O._getItemToZoom();if(!Y){ab();return}V=X(Y);V.css(O._getOffset());O.wrap.append(V);aa=setTimeout(function(){V.css(O._getOffset(true));aa=setTimeout(function(){ab();setTimeout(function(){V.remove();Y=V=null;s("ZoomAnimationEnded")},16)},W)},16)}});r(D+Z,function(){if(O._allowZoom()){clearTimeout(aa);O.st.removalDelay=W;if(!Y){Y=O._getItemToZoom();if(!Y){return}V=X(Y)}V.css(O._getOffset(true));O.wrap.append(V);O.content.css("visibility","hidden");setTimeout(function(){V.css(O._getOffset())},16)}});r(F+Z,function(){if(O._allowZoom()){ab();if(V){V.remove()}Y=null}})},_allowZoom:function(){return O.currItem.type==="image"},_getItemToZoom:function(){if(O.currItem.hasSize){return O.currItem.img}else{return false}},_getOffset:function(W){var V;if(W){V=O.currItem.img}else{V=O.st.zoom.opener(O.currItem.el||O.currItem)}var Y=V.offset();var aa=parseInt(V.css("padding-top"),10);var Z=parseInt(V.css("padding-bottom"),10);Y.top-=(a(window).scrollTop()-aa);var X={width:V.width(),height:(p?V.innerHeight():V[0].offsetHeight)-Z-aa};if(H()){X["-moz-transform"]=X.transform="translate("+Y.left+"px,"+Y.top+"px)"}else{X.left=Y.left;X.top=Y.top}return X}}});var J="iframe",g="//about:blank",h=function(W){if(O.currTemplate[J]){var V=O.currTemplate[J].find("iframe");if(V.length){if(!W){V[0].src=g}if(O.isIE8){V.css("display",W?"block":"none")}}}};a.magnificPopup.registerModule(J,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){O.types.push(J);r("BeforeChange",function(V,X,W){if(X!==W){if(X===J){h()}else{if(W===J){h(true)}}}});r(F+"."+J,function(){h()})},getIframe:function(Y,Z){var W=Y.src;var X=O.st.iframe;a.each(X.patterns,function(){if(W.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){W=W.substr(W.lastIndexOf(this.id)+this.id.length,W.length)}else{W=this.id.call(this,W)}}W=this.src.replace("%id%",W);return false}});var V={};if(X.srcAction){V[X.srcAction]=W}O._parseMarkup(Z,V,Y);O.updateStatus("ready");return Z}}});var k=function(V){var W=O.items.length;if(V>W-1){return V-W}else{if(V<0){return W+V}}return V},x=function(W,V,X){return W.replace(/%curr%/gi,V+1).replace(/%total%/gi,X)};a.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var V=O.st.gallery,W=".mfp-gallery",X=Boolean(a.fn.mfpFastClick);O.direction=true;if(!V||!V.enabled){return false}z+=" mfp-gallery";r(Q+W,function(){if(V.navigateByImgClick){O.wrap.on("click"+W,".mfp-img",function(){if(O.items.length>1){O.next();return false}})}f.on("keydown"+W,function(Y){if(Y.keyCode===37){O.prev()}else{if(Y.keyCode===39){O.next()}}})});r("UpdateStatus"+W,function(Z,Y){if(Y.text){Y.text=x(Y.text,O.currItem.index,O.items.length)}});r(N+W,function(Y,Z,ac,aa){var ab=O.items.length;ac.counter=ab>1?x(V.tCounter,aa.index,ab):""});r("BuildControls"+W,function(){if(O.items.length>1&&V.arrows&&!O.arrowLeft){var ab=V.arrowMarkup,Y=O.arrowLeft=a(ab.replace(/%title%/gi,V.tPrev).replace(/%dir%/gi,"left")).addClass(R),Z=O.arrowRight=a(ab.replace(/%title%/gi,V.tNext).replace(/%dir%/gi,"right")).addClass(R);var aa=X?"mfpFastClick":"click";Y[aa](function(){O.prev()});Z[aa](function(){O.next()});if(O.isIE7){j("b",Y[0],false,true);j("a",Y[0],false,true);j("b",Z[0],false,true);j("a",Z[0],false,true)}O.container.append(Y.add(Z))}});r(E+W,function(){if(O._preloadTimeout){clearTimeout(O._preloadTimeout)}O._preloadTimeout=setTimeout(function(){O.preloadNearbyImages();O._preloadTimeout=null},16)});r(F+W,function(){f.off(W);O.wrap.off("click"+W);if(O.arrowLeft&&X){O.arrowLeft.add(O.arrowRight).destroyMfpFastClick()}O.arrowRight=O.arrowLeft=null})},next:function(){O.direction=true;O.index=k(O.index+1);O.updateItemHTML()},prev:function(){O.direction=false;O.index=k(O.index-1);O.updateItemHTML()},goTo:function(V){O.direction=(V>=O.index);O.index=V;O.updateItemHTML()},preloadNearbyImages:function(){var W=O.st.gallery.preload,Y=Math.min(W[0],O.items.length),X=Math.min(W[1],O.items.length),V;for(V=1;V<=(O.direction?X:Y);V++){O._preloadItem(O.index+V)}for(V=1;V<=(O.direction?Y:X);V++){O._preloadItem(O.index-V)}},_preloadItem:function(V){V=k(V);if(O.items[V].preloaded){return}var W=O.items[V];if(!W.parsed){W=O.parseEl(V)}s("LazyLoad",W);if(W.type==="image"){W.img=a('<img class="mfp-img" />').on("load.mfploader",function(){W.hasSize=true}).on("error.mfploader",function(){W.hasSize=true;W.loadError=true;s("LazyLoadError",W)}).attr("src",W.src)}W.preloaded=true}}});c()}));
/* Source: ../global/fedkit/js/plugins/tinynav.js */
(function(a,c,b){a.fn.tinyNav=function(d){var e=a.extend({active:"selected",header:"",label:""},d);return this.each(function(){b++;var f=a(this),i="tinynav",j=i+b,h=".l_"+j,g=a("<select/>").attr("id",j).addClass(i+" "+j+" hide");if(f.is("ul,ol")){if(e.header!==""){g.append(a("<option/>").text(e.header))}var k="";f.addClass("l_"+j).find("a").each(function(){k+='<option value="'+a(this).attr("href")+'">';var l;for(l=0;l<a(this).parents("ul, ol").length-1;l++){k+="- "}k+=a(this).text()+"</option>"});g.append(k);if(!e.header){g.find(":eq("+a(h+" li").index(a(h+" li."+e.active))+")").attr("selected",true)}g.change(function(){c.location.href=a(this).val()});a(h).after(g);if(e.label){g.before(a("<label/>").attr("for",j).addClass(i+"_label "+j+"_label").append(e.label))}}})}})(jQuery,this,0);
/* Source: ../global/fedkit/js/plugins/togglable-nav-bar.js */
$(function(){$(document).on("click",".js-togglable-nav-trigger",function(a){a.preventDefault();a.stopPropagation();var b=$($(this).attr("href"));$(".js-togglable-nav-triggers .nav-toggles__item").removeClass("nav-toggles__item--active");$(".js-togglable-nav").not(b).removeClass("togglable-nav--active");if(b.hasClass("togglable-nav--active")){b.removeClass("togglable-nav--active");$(this).parent().removeClass("nav-toggles__item--active")}else{b.addClass("togglable-nav--active");$(this).parent().addClass("nav-toggles__item--active")}});$(document).on("click","body",function(){$(".js-togglable-nav").removeClass("togglable-nav--active");$(".js-togglable-nav-trigger").parent().removeClass("nav-toggles__item--active")});$(document).on("click",".js-togglable-nav",function(a){a.stopPropagation()})});
/* Source: ../global/fedkit/js/plugins/appendAround.js */
/* appendAround markup pattern. [c]2012, @scottjehl, Filament Group, Inc. MIT/GPL 
how-to:
    1. Insert potential element containers throughout the DOM
    2. give each container a data-set attribute with a value that matches all other containers' values
    3. Place your appendAround content in one of the potential containers
    4. Call appendAround() on that element when the DOM is ready
*/
(function(a){a.fn.appendAround=function(){return this.each(function(){var c=a(this),f="data-set",b=c.parent(),i=b[0],g=b.attr(f),d=a("["+f+"='"+g+"']");function h(j){return a(j).css("display")==="none"}function e(){if(h(i)){var j=0;d.each(function(){if(!h(this)&&!j){c.appendTo(this);j++;i=this}})}}e();a(window).bind("resize",e)})}}(jQuery));
/* Source: ../global/fedkit/js/plugins/webui-popover/jquery.webui-popover.js */
(function(c,a,b){(function(d){if(typeof define==="function"&&define.amd){define(["jquery"],d)}else{if(typeof exports==="object"){module.exports=d(require("jquery"))}else{d(c.jQuery)}}}(function(d){var p="webuiPopover";var o="webui-popover";var q="webui.popover";var k={placement:"auto",container:null,width:"auto",height:"auto",trigger:"click",style:"",delay:{show:null,hide:300},async:{type:"GET",before:null,success:null,error:null},cache:true,multi:false,arrow:true,title:"",content:"",closeable:false,padding:true,url:"",type:"html",direction:"",animation:null,template:'<div class="webui-popover"><div class="webui-arrow"></div><div class="webui-popover-inner"><a href="#" class="close"></a><h3 class="webui-popover-title"></h3><div class="webui-popover-content"><i class="icon-refresh"></i> <p>&nbsp;</p></div></div></div>',backdrop:false,dismissible:true,onShow:null,onHide:null,abortXHR:true,autoHide:false,offsetTop:0,offsetLeft:0,iframeOptions:{frameborder:"0",allowtransparency:"true",id:"",name:"",scrolling:"",onload:"",height:"",width:""},hideEmpty:false};var s=o+"-rtl";var i=[];var j=d('<div class="webui-popover-backdrop"></div>');var f=0;var g=false;var h=-2000;var e=d(a);var t=function(x,w){return isNaN(x)?(w||0):Number(x)};var l=function(w){return w.data("plugin_"+p)};var m=function(){var x=null;for(var w=0;w<i.length;w++){x=l(i[w]);if(x){x.hide(true)}}e.trigger("hiddenAll."+q)};var n=("ontouchstart" in a.documentElement)&&(/Mobi/.test(navigator.userAgent));var r=function(w){var x={x:0,y:0};if(w.type==="touchstart"||w.type==="touchmove"||w.type==="touchend"||w.type==="touchcancel"){var y=w.originalEvent.touches[0]||w.originalEvent.changedTouches[0];x.x=y.pageX;x.y=y.pageY}else{if(w.type==="mousedown"||w.type==="mouseup"||w.type==="click"){x.x=w.pageX;x.y=w.pageY}}return x};function u(w,x){this.$element=d(w);if(x){if(d.type(x.delay)==="string"||d.type(x.delay)==="number"){x.delay={show:x.delay,hide:x.delay}}}this.options=d.extend({},k,x);this._defaults=k;this._name=p;this._targetclick=false;this.init();i.push(this.$element)}u.prototype={init:function(){if(this.getTrigger()!=="manual"){if(this.getTrigger()==="click"||n){this.$element.off("click touchend").on("click touchend",d.proxy(this.toggle,this))}else{if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave click").on("mouseenter",d.proxy(this.mouseenterHandler,this)).on("mouseleave",d.proxy(this.mouseleaveHandler,this))}}}this._poped=false;this._inited=true;this._opened=false;this._idSeed=f;this.options.container=d(this.options.container||a.body).first();if(this.options.backdrop){j.appendTo(this.options.container).hide()}f++;if(this.getTrigger()==="sticky"){this.show()}},destroy:function(){var x=-1;for(var w=0;w<i.length;w++){if(i[w]===this.$element){x=w;break}}i.splice(x,1);this.hide();this.$element.data("plugin_"+p,null);if(this.getTrigger()==="click"){this.$element.off("click")}else{if(this.getTrigger()==="hover"){this.$element.off("mouseenter mouseleave")}}if(this.$target){this.$target.remove()}},hide:function(y,x){if(!y&&this.getTrigger()==="sticky"){return}if(!this._opened){return}if(x){x.preventDefault();x.stopPropagation()}if(this.xhr&&this.options.abortXHR===true){this.xhr.abort();this.xhr=null}var w=d.Event("hide."+q);this.$element.trigger(w,[this.$target]);if(this.$target){this.$target.removeClass("in").addClass(this.getHideAnimation());var z=this;setTimeout(function(){z.$target.hide();if(!z.getCache()){z.$target.remove()}},z.getHideDelay())}if(this.options.backdrop){j.hide()}this._opened=false;this.$element.trigger("hidden."+q,[this.$target]);if(this.options.onHide){this.options.onHide(this.$target)}},resetAutoHide:function(){var x=this;var w=x.getAutoHide();if(w){if(x.autoHideHandler){clearTimeout(x.autoHideHandler)}x.autoHideHandler=setTimeout(function(){x.hide()},w)}},toggle:function(w){if(w){w.preventDefault();w.stopPropagation()}this[this.getTarget().hasClass("in")?"hide":"show"]()},hideAll:function(){m()},show:function(){if(this._opened){return}var w=this.getTarget().removeClass().addClass(o).addClass(this._customTargetClass);if(!this.options.multi){this.hideAll()}if(!this.getCache()||!this._poped||this.content===""){this.content="";this.setTitle(this.getTitle());if(!this.options.closeable){w.find(".close").off("click").remove()}if(!this.isAsync()){this.setContent(this.getContent())}else{this.setContentASync(this.options.content)}if(this.canEmptyHide()&&this.content===""){return}w.show()}this.displayContent();if(this.options.onShow){this.options.onShow(w)}this.bindBodyEvents();if(this.options.backdrop){j.show()}this._opened=true;this.resetAutoHide()},displayContent:function(){var C=this.getElementPosition(),y=this.getTarget().removeClass().addClass(o).addClass(this._customTargetClass),z=this.getContentElement(),K=y[0].offsetWidth,J=y[0].offsetHeight,H="bottom",B=d.Event("show."+q);if(this.canEmptyHide()){var A=z.children().html();if(A!==null&&A.trim().length===0){return}}this.$element.trigger(B,[y]);var G=this.$element.data("width")||this.options.width;if(G===""){G=this._defaults.width}if(G!=="auto"){y.width(G)}var F=this.$element.data("height")||this.options.height;if(F===""){F=this._defaults.height}if(F!=="auto"){z.height(F)}if(this.options.style){this.$target.addClass(o+"-"+this.options.style)}if(this.options.direction==="rtl"&&!z.hasClass(s)){z.addClass(s)}if(!this.options.arrow){y.find(".webui-arrow").remove()}y.detach().css({top:h,left:h,display:"block"});if(this.getAnimation()){y.addClass(this.getAnimation())}y.appendTo(this.options.container);H=this.getPlacement(C);this.$element.trigger("added."+q);this.initTargetEvents();if(!this.options.padding){if(this.options.height!=="auto"){z.css("height",z.outerHeight())}this.$target.addClass("webui-no-padding")}K=y[0].offsetWidth;J=y[0].offsetHeight;var I=this.getTargetPositin(C,H,K,J);this.$target.css(I.position).addClass(H).addClass("in");if(this.options.type==="iframe"){var x=y.find("iframe");var E=y.width();var D=x.parent().height();if(this.options.iframeOptions.width!==""&&this.options.iframeOptions.width!=="auto"){E=this.options.iframeOptions.width}if(this.options.iframeOptions.height!==""&&this.options.iframeOptions.height!=="auto"){D=this.options.iframeOptions.height}x.width(E).height(D)}if(!this.options.arrow){this.$target.css({margin:0})}if(this.options.arrow){var w=this.$target.find(".webui-arrow");w.removeAttr("style");if(H==="left"||H==="right"){w.css({top:this.$target.height()/2})}else{if(H==="top"||H==="bottom"){w.css({left:this.$target.width()/2})}}if(I.arrowOffset){if(I.arrowOffset.left===-1||I.arrowOffset.top===-1){w.hide()}else{w.css(I.arrowOffset)}}}this._poped=true;this.$element.trigger("shown."+q,[this.$target])},isTargetLoaded:function(){return this.getTarget().find("i.glyphicon-refresh").length===0},getTriggerElement:function(){return this.$element},getTarget:function(){if(!this.$target){var w=p+this._idSeed;this.$target=d(this.options.template).attr("id",w).data("trigger-element",this.getTriggerElement());this._customTargetClass=this.$target.attr("class")!==o?this.$target.attr("class"):null;this.getTriggerElement().attr("data-target",w)}return this.$target},getTitleElement:function(){return this.getTarget().find("."+o+"-title")},getContentElement:function(){if(!this.$contentElement){this.$contentElement=this.getTarget().find("."+o+"-content")}return this.$contentElement},getTitle:function(){return this.$element.attr("data-title")||this.options.title||this.$element.attr("title")},getUrl:function(){return this.$element.attr("data-url")||this.options.url},getAutoHide:function(){return this.$element.attr("data-auto-hide")||this.options.autoHide},getOffsetTop:function(){return t(this.$element.attr("data-offset-top"))||this.options.offsetTop},getOffsetLeft:function(){return t(this.$element.attr("data-offset-left"))||this.options.offsetLeft},getCache:function(){var w=this.$element.attr("data-cache");if(typeof(w)!=="undefined"){switch(w.toLowerCase()){case"true":case"yes":case"1":return true;case"false":case"no":case"0":return false}}return this.options.cache},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getDelayShow:function(){var w=this.$element.attr("data-delay-show");if(typeof(w)!=="undefined"){return w}return this.options.delay.show===0?0:this.options.delay.show||100},getHideDelay:function(){var w=this.$element.attr("data-delay-hide");if(typeof(w)!=="undefined"){return w}return this.options.delay.hide===0?0:this.options.delay.hide||100},getAnimation:function(){var w=this.$element.attr("data-animation");return w||this.options.animation},getHideAnimation:function(){var w=this.getAnimation();return w?w+"-out":"out"},setTitle:function(x){var w=this.getTitleElement();if(x){if(this.options.direction==="rtl"&&!w.hasClass(s)){w.addClass(s)}w.html(x)}else{w.remove()}},hasContent:function(){return this.getContent()},canEmptyHide:function(){return this.options.hideEmpty&&this.options.type==="html"},getIframe:function(){var w=d("<iframe></iframe>").attr("src",this.getUrl());var x=this;d.each(this._defaults.iframeOptions,function(y){if(typeof x.options.iframeOptions[y]!=="undefined"){w.attr(y,x.options.iframeOptions[y])}});return w},getContent:function(){if(this.getUrl()){switch(this.options.type){case"iframe":this.content=this.getIframe();break;case"html":try{this.content=d(this.getUrl());if(!this.content.is(":visible")){this.content.show()}}catch(y){throw new Error("Unable to get popover content. Invalid selector specified.")}break}}else{if(!this.content){var x="";if(d.isFunction(this.options.content)){x=this.options.content.apply(this.$element[0],[this])}else{x=this.options.content}this.content=this.$element.attr("data-content")||x;if(!this.content){var w=this.$element.next();if(w&&w.hasClass(o+"-content")){this.content=w}}}}return this.content},setContent:function(y){var x=this.getTarget();var w=this.getContentElement();if(typeof y==="string"){w.html(y)}else{if(y instanceof d){w.html("");if(!this.options.cache){y.clone(true,true).removeClass(o+"-content").appendTo(w)}else{y.removeClass(o+"-content").appendTo(w)}}}this.$target=x},isAsync:function(){return this.options.type==="async"},setContentASync:function(w){var x=this;if(this.xhr){return}this.xhr=d.ajax({url:this.getUrl(),type:this.options.async.type,cache:this.getCache(),beforeSend:function(y){if(x.options.async.before){x.options.async.before(x,y)}},success:function(z){x.bindBodyEvents();if(w&&d.isFunction(w)){x.content=w.apply(x.$element[0],[z])}else{x.content=z}x.setContent(x.content);var y=x.getContentElement();y.removeAttr("style");x.displayContent();if(x.options.async.success){x.options.async.success(x,z)}},complete:function(){x.xhr=null},error:function(z,y){if(x.options.async.error){x.options.async.error(x,z,y)}}})},bindBodyEvents:function(){if(g){return}if(this.options.dismissible&&this.getTrigger()==="click"){e.off("keyup.webui-popover").on("keyup.webui-popover",d.proxy(this.escapeHandler,this));e.off("click.webui-popover touchend.webui-popover").on("click.webui-popover touchend.webui-popover",d.proxy(this.bodyClickHandler,this))}else{if(this.getTrigger()==="hover"){e.off("touchend.webui-popover").on("touchend.webui-popover",d.proxy(this.bodyClickHandler,this))}}},mouseenterHandler:function(){var w=this;if(w._timeout){clearTimeout(w._timeout)}w._enterTimeout=setTimeout(function(){if(!w.getTarget().is(":visible")){w.show()}},this.getDelayShow())},mouseleaveHandler:function(){var w=this;clearTimeout(w._enterTimeout);w._timeout=setTimeout(function(){w.hide()},this.getHideDelay())},escapeHandler:function(w){if(w.keyCode===27){this.hideAll()}},bodyClickHandler:function(x){g=true;var w=true;for(var y=0;y<i.length;y++){var B=l(i[y]);if(B&&B._opened){var A=B.getTarget().offset();var C=A.left;var E=A.top;var D=A.left+B.getTarget().width();var F=A.top+B.getTarget().height();var G=r(x);var z=G.x>=C&&G.x<=D&&G.y>=E&&G.y<=F;if(z){w=false;break}}}if(w){m()}},initTargetEvents:function(){if(this.getTrigger()==="hover"){this.$target.off("mouseenter mouseleave").on("mouseenter",d.proxy(this.mouseenterHandler,this)).on("mouseleave",d.proxy(this.mouseleaveHandler,this))}this.$target.find(".close").off("click").on("click",d.proxy(this.hide,this,true))},getPlacement:function(F){var E,y=this.options.container,x=y.innerWidth(),w=y.innerHeight(),H=y.scrollTop(),G=y.scrollLeft(),C=Math.max(0,F.left-G),D=Math.max(0,F.top-H);if(typeof(this.options.placement)==="function"){E=this.options.placement.call(this,this.getTarget()[0],this.$element[0])}else{E=this.$element.data("placement")||this.options.placement}var A=E==="horizontal";var B=E==="vertical";var z=E==="auto"||A||B;if(z){if(C<x/3){if(D<w/3){E=A?"right-bottom":"bottom-right"}else{if(D<w*2/3){if(B){E=D<=w/2?"bottom-right":"top-right"}else{E="right"}}else{E=A?"right-top":"top-right"}}}else{if(C<x*2/3){if(D<w/3){if(A){E=C<=x/2?"right-bottom":"left-bottom"}else{E="bottom"}}else{if(D<w*2/3){if(A){E=C<=x/2?"right":"left"}else{E=D<=w/2?"bottom":"top"}}else{if(A){E=C<=x/2?"right-top":"left-top"}else{E="top"}}}}else{if(D<w/3){E=A?"left-bottom":"bottom-left"}else{if(D<w*2/3){if(B){E=D<=w/2?"bottom-left":"top-left"}else{E="left"}}else{E=A?"left-top":"top-left"}}}}}else{if(E==="auto-top"){if(C<x/3){E="top-right"}else{if(C<x*2/3){E="top"}else{E="top-left"}}}else{if(E==="auto-bottom"){if(C<x/3){E="bottom-right"}else{if(C<x*2/3){E="bottom"}else{E="bottom-left"}}}else{if(E==="auto-left"){if(D<w/3){E="left-top"}else{if(D<w*2/3){E="left"}else{E="left-bottom"}}}else{if(E==="auto-right"){if(D<w/3){E="right-top"}else{if(D<w*2/3){E="right"}else{E="right-bottom"}}}}}}}return E},getElementPosition:function(){var z=this.$element[0].getBoundingClientRect();var w=this.options.container;var y=w.css("position");if(w.is(a.body)||y==="static"){return d.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth||z.width,height:this.$element[0].offsetHeight||z.height})}else{if(y==="fixed"){var x=w[0].getBoundingClientRect();return{top:z.top-x.top+w.scrollTop(),left:z.left-x.left+w.scrollLeft(),width:z.width,height:z.height}}else{if(y==="relative"){return{top:this.$element.offset().top-w.offset().top,left:this.$element.offset().left-w.offset().left,width:this.$element[0].offsetWidth||z.width,height:this.$element[0].offsetHeight||z.height}}}}},getTargetPositin:function(A,H,P,O){var I=A,y=this.options.container,B=this.$element.outerWidth(),z=this.$element.outerHeight(),N=a.documentElement.scrollTop+y.scrollTop(),M=a.documentElement.scrollLeft+y.scrollLeft(),J={},w=null,x=this.options.arrow?20:0,E=10,D=B<x+E?x:0,C=z<x+E?x:0,K=0,F=a.documentElement.clientHeight+N,G=a.documentElement.clientWidth+M;var R=I.left+I.width/2-D>0;var S=I.left+I.width/2+D<G;var T=I.top+I.height/2-C>0;var Q=I.top+I.height/2+C<F;switch(H){case"bottom":J={top:I.top+I.height,left:I.left+I.width/2-P/2};break;case"top":J={top:I.top-O,left:I.left+I.width/2-P/2};break;case"left":J={top:I.top+I.height/2-O/2,left:I.left-P};break;case"right":J={top:I.top+I.height/2-O/2,left:I.left+I.width};break;case"top-right":J={top:I.top-O,left:R?I.left-D:E};w={left:R?Math.min(B,P)/2+D:h};break;case"top-left":K=S?D:-E;J={top:I.top-O,left:I.left-P+I.width+K};w={left:S?P-Math.min(B,P)/2-D:h};break;case"bottom-right":J={top:I.top+I.height,left:R?I.left-D:E};w={left:R?Math.min(B,P)/2+D:h};break;case"bottom-left":K=S?D:-E;J={top:I.top+I.height,left:I.left-P+I.width+K};w={left:S?P-Math.min(B,P)/2-D:h};break;case"right-top":K=Q?C:-E;J={top:I.top-O+I.height+K,left:I.left+I.width};w={top:Q?O-Math.min(z,O)/2-C:h};break;case"right-bottom":J={top:T?I.top-C:E,left:I.left+I.width};w={top:T?Math.min(z,O)/2+C:h};break;case"left-top":K=Q?C:-E;J={top:I.top-O+I.height+K,left:I.left-P};w={top:Q?O-Math.min(z,O)/2-C:h};break;case"left-bottom":J={top:T?I.top-C:E,left:I.left-P};w={top:T?Math.min(z,O)/2+C:h};break}J.top+=this.getOffsetTop();J.left+=this.getOffsetLeft();return{position:J,arrowOffset:w}}};d.fn[p]=function(y,x){var z=[];var w=this.each(function(){var A=d.data(this,"plugin_"+p);if(!A){if(!y){A=new u(this,null)}else{if(typeof y==="string"){if(y!=="destroy"){if(!x){A=new u(this,null);z.push(A[y]())}}}else{if(typeof y==="object"){A=new u(this,y)}}}d.data(this,"plugin_"+p,A)}else{if(y==="destroy"){A.destroy()}else{if(typeof y==="string"){z.push(A[y]())}}}});return(z.length)?z:w};var v=(function(){var y=function(){m()};var w=function(C,B){B=B||{};d(C).webuiPopover(B)};var z=function(C){var B=true;d(C).each(function(D){B=B&&d(D).data("plugin_"+p)!==b});return B};var A=function(C,B){if(B){d(C).webuiPopover(B).webuiPopover("show")}else{d(C).webuiPopover("show")}};var x=function(B){d(B).webuiPopover("hide")};return{show:A,hide:x,create:w,isCreated:z,hideAll:y}})();c.WebuiPopovers=v}))})(window,document);
/* Source: ../global/fedkit/js/plugins/popovers.js */
$(function(){$(document).on("click",".js-popover-trigger",function(a){a.preventDefault();$popoverContainer=$(this).closest(".js-popover");$popoverContainer.find($(this).attr("href")).toggle()});$(document).on("click","body",function(){$(".js-popover-target").hide()});$(document).on("click",".js-popover-trigger, .js-popover-target",function(a){a.stopPropagation()})});
/* Source: ../global/fedkit/js/plugins/jquery-cookie.js */
/*
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(a){var f=/\+/g;function d(i){return b.raw?i:encodeURIComponent(i)}function c(i){return b.raw?i:decodeURIComponent(i)}function h(i){return d(b.json?JSON.stringify(i):String(i))}function e(j){if(j.indexOf('"')===0){j=j.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{j=decodeURIComponent(j.replace(f," "));return b.json?JSON.parse(j):j}catch(i){}}function g(j,i){var k=b.raw?j:e(j);return a.isFunction(i)?i(k):k}var b=a.cookie=function(o,w,r){if(arguments.length>1&&!a.isFunction(w)){r=a.extend({},b.defaults,r);if(typeof r.expires==="number"){var m=r.expires,v=r.expires=new Date();v.setTime(+v+m*86400000)}return(document.cookie=[d(o),"=",h(w),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join(""))}var u=o?undefined:{};var k=document.cookie?document.cookie.split("; "):[];for(var n=0,p=k.length;n<p;n++){var s=k[n].split("=");var q=c(s.shift());var j=s.join("=");if(o&&o===q){u=g(j,w);break}if(!o&&(j=g(j))!==undefined){u[q]=j}}return u};b.defaults={};a.removeCookie=function(i,j){if(a.cookie(i)===undefined){return false}a.cookie(i,"",a.extend({},j,{expires:-1}));return !a.cookie(i)}}));
/* Source: ../global/fedkit/js/plugins/clamp.js */
/*
 * Clamp.js 0.11.2
 *
 * Now Maintained by Josh English http://joshengish.com
 * Joseph Schmitt http://joe.sh
 * Released under the WTFPL license
 * http://sam.zoy.org/wtfpl/
 */
(function(b,a){if(typeof define==="function"&&define.amd){define([],a)}else{if(typeof exports==="object"){module.exports=a()}else{b.$clamp=a()}}}(this,function(){function a(g,p){p=p||{};var r=this,y=window,o={clamp:p.clamp||2,useNativeClamp:typeof(p.useNativeClamp)!="undefined"?p.useNativeClamp:true,splitOnChars:p.splitOnChars||[".","-","–","—"," "],animate:p.animate||false,truncationChar:p.truncationChar||"…",truncationHTML:p.truncationHTML},u=g.style,q=g.innerHTML,v=typeof(g.style.webkitLineClamp)!="undefined",e=o.clamp,m=e.indexOf&&(e.indexOf("px")>-1||e.indexOf("em")>-1),x;if(o.truncationHTML){x=document.createElement("span");x.innerHTML=o.truncationHTML}function f(z,A){if(!y.getComputedStyle){y.getComputedStyle=function(B,C){this.el=B;this.getPropertyValue=function(D){var E=/(\-([a-z]){1})/g;if(D=="float"){D="styleFloat"}if(E.test(D)){D=D.replace(E,function(){return arguments[2].toUpperCase()})}return B.currentStyle&&B.currentStyle[D]?B.currentStyle[D]:null};return this}}return y.getComputedStyle(z,null).getPropertyValue(A)}function k(A){var z=A||g.clientHeight,B=i(g);return Math.max(Math.floor(z/B),0)}function j(z){var A=i(g);console.log(A*z);return A*z}function i(z){var A=f(z,"line-height");if(A=="normal"){A=parseInt(f(z,"font-size"))*1.1}return Math.ceil(parseFloat(A))}var t=o.splitOnChars.slice(0),s=t[0],c,n;function h(z){if(!z.lastChild){return}if(z.lastChild.children&&z.lastChild.children.length>0){return h(Array.prototype.slice.call(z.children).pop())}else{if(!z.lastChild||!z.lastChild.nodeValue||z.lastChild.nodeValue===""||z.lastChild.nodeValue==o.truncationChar){z.lastChild.parentNode.removeChild(z.lastChild);return h(g)}else{return z.lastChild}}}function w(C,z){if(!C||!z){return}function B(){t=o.splitOnChars.slice(0);s=t[0];c=null;n=null}console.log(t);var A=C.nodeValue.replace(o.truncationChar,"");if(!c){if(t.length>0){s=t.shift()}else{s=""}c=A.split(s)}if(c.length>1){n=c.pop();b(C,c.join(s))}else{c=null}if(x){C.nodeValue=C.nodeValue.replace(o.truncationChar,"");g.innerHTML=C.nodeValue+" "+x.innerHTML+o.truncationChar}if(c){if(g.clientHeight<=z){console.log(g.clientHeight,z);if(t.length>=0&&s!==""){b(C,c.join(s)+s+n);c=null}else{return g.innerHTML}}}else{if(s===""){b(C,"");C=h(g);B()}}if(o.animate){setTimeout(function(){w(C,z)},o.animate===true?10:o.animate)}else{return w(C,z)}}function b(z,A){z.nodeValue=A+o.truncationChar}if(e=="auto"){e=k()}else{if(m){e=k(parseInt(e))}}var d;if(v&&o.useNativeClamp){u.overflow="hidden";u.textOverflow="ellipsis";u.webkitBoxOrient="vertical";u.display="-webkit-box";u.webkitLineClamp=e;if(m){u.height=o.clamp+"px"}}else{var l=j(e);if(l<g.clientHeight){d=w(h(g),l)}}return{original:q,clamped:d}}return a}));
/* Source: assets/src/js/site.js */
$(function(){FastClick.attach(document.body);var l=null;if($(window).width()<=550){l="palm"}d();e();window.addEventListener("resize",function(){e()},false);window.addEventListener("orientationchange",function(){e()},false);function e(){if(!$("body").data("has-shortlist-nav")&&$("body").hasClass("is-signed-in")){$(".js-togglable-nav-triggers .nav-toggles__item--secondary").after($(".jobseekers__item--shortlist").clone());$(".js-togglable-nav-triggers .jobseekers__item--shortlist").addClass("nav-toggles__item");$(".js-togglable-nav-triggers .jobseekers__item--shortlist a").attr({"class":"js-togglable-nav-trigger",href:"#shortlist-nav"});$(".top-bar").append('<nav id="shortlist-nav" class="hide togglable-nav js-togglable-nav shortlist-nav" />');$("body").data("has-shortlist-nav",true)}}function n(){$.ajax({url:mdgx.shortlistPath,type:"GET",success:function(p){$("#shortlist-nav").html(p)}})}$(document).on("click",".jobseekers__item--shortlist .js-togglable-nav-trigger",function(){n()});if($(window).width()<=750){var b=$(".js-recruiter-link").clone();if(b){$(".primary-nav").append(b)}}function m(){if($(".js-search-jobs-form").length>0){$(".js-additional-location-input").removeAttr("disabled").each(function(){if($.inArray($(this).val(),mdgx.additionalLocationValues)!==-1){$(this).attr("checked",true)}})}if($(".js-additional-hidden-locations-form").length>0){$(".js-additional-hidden-locations-input").remove();$.each(mdgx.newAdditionalLocationValues,function(p,q){$(".js-additional-hidden-locations-form").append('<input class="js-additional-hidden-locations-input" type="hidden" name="LocationId" value="'+q+'" />')})}}mdgx.additionalLocationValuesCookie=$.cookie("FixedFacetDefaults");if(mdgx.additionalLocationValuesCookie){mdgx.additionalLocationValues=mdgx.additionalLocationValuesCookie.toString().split(",")}else{mdgx.additionalLocationValues=[]}mdgx.newAdditionalLocationValues=mdgx.additionalLocationValues;if($(".js-search-jobs-form").length>0){if(!$(".js-location-id").val()){$(".js-additional-location-input").attr("disabled",true)}$(document).on("change",".js-additional-location-input",function(){$(this).each(function(){if($(this).is(":checked")){mdgx.newAdditionalLocationValues.push($(this).val())}else{var p=mdgx.newAdditionalLocationValues.indexOf($(this).val());mdgx.newAdditionalLocationValues.splice(p,1)}});$.cookie("FixedFacetDefaults",mdgx.newAdditionalLocationValues.join(",").toString(),{path:"/"})})}if($(".js-location-id").val()){m()}if($('.is-skin .js-additional-hidden-locations-form input[name="LocationId"]').length>0&&$('.is-skin .js-additional-hidden-locations-form input[name="LocationId"]').val().length>0){m()}window.locationAutoCompleteSettings={serviceUrl:mdgx.locationSearchPath,minChars:2,paramName:"term",onSearchStart:function(p){$(this).closest(".js-clear-input").find(".js-clear-input-trigger").addClass("clear-input__trigger--is-searching")},onSearchComplete:function(p){$(this).closest(".js-clear-input").find(".js-clear-input-trigger").removeClass("clear-input__trigger--is-searching")},transformResult:function(p){return{suggestions:$.map(JSON.parse(p),function(q){return{value:q.label,data:q.value}})}},onSelect:function(p){$(this).closest("form").find(".js-location-id").val(p.data);m()}};$(".js-location-lookup").autocomplete(window.locationAutoCompleteSettings);$(document).on("keyup",".js-location-lookup",function(){if(!$(this).val()){$(this).closest("form").find(".js-location-id").val("");if($(".js-search-jobs-form").length>0){$(".js-additional-location-input").attr("disabled",true)}if($(".js-additional-hidden-locations-form").length>0){$(".js-additional-hidden-locations-input").remove()}$(this).closest(".js-clear-input").find(".js-clear-input-trigger").hide()}else{$(this).closest(".js-clear-input").find(".js-location-lookup-find-me").hide();$(this).closest(".js-clear-input").find(".js-clear-input-trigger").show()}});if("geolocation" in navigator){$(".js-location-lookup-container").append('<i data-icon="&#xe604;" class="location-lookup__find-me js-location-lookup-find-me icon-before"></i>');if($(".js-location-lookup").val()){$(".js-location-lookup").closest(".js-location-lookup-container").find(".js-location-lookup-find-me").hide()}$(document).on("click",".js-location-lookup-find-me",function(){var q=$(this).closest(".js-location-lookup-container");var p=$(this);p.hide();w();navigator.geolocation.getCurrentPosition(s,r,t);function s(z){var x=z.coords.latitude;var y=z.coords.longitude;$.ajax({url:mdgx.locationSearchPath,type:"json",method:"get",cache:false,data:{lat:x,lng:y},success:u,error:r})}function u(z){var A=JSON.parse(z);if(A[0].label){var y=A[0].label;var x=A[0].value;var B=y+" : "+x;q.find(".js-location-id").val(x);q.find(".js-location-lookup").val(y);v();q.find(".js-clear-input-trigger").show();$(".js-additional-location-input").removeAttr("disabled")}else{r()}}function r(){alert(MADGEXi18n.NoLocationFound);q.find(".js-location-lookup").focus();v();p.show()}function t(){}function w(){q.find(".js-clear-input-trigger").show().addClass("clear-input__trigger--is-searching")}function v(){q.find(".js-clear-input-trigger").hide().removeClass("clear-input__trigger--is-searching")}})}$(window).bind("pageshow",function(){var p=$(".js-recruiter-lookup").closest("form");p.find(".js-recruiter-id").val("")});$(".js-recruiter-lookup").autocomplete({serviceUrl:mdgx.recruiterSearchPath,paramName:"Query",params:{RecruiterTypeTermId:$(".js-recruiter-type").val(),DisplayAll:true},minChars:2,onSearchStart:function(p){$(this).closest(".js-clear-input").find(".js-clear-input-trigger").addClass("clear-input__trigger--is-searching")},onSearchComplete:function(p){$(this).closest(".js-clear-input").find(".js-clear-input-trigger").removeClass("clear-input__trigger--is-searching")},transformResult:function(p){return{suggestions:$.map(JSON.parse(p).result,function(q){return{value:q.displayName,data:q.id}})}},onSelect:function(p){$(this).closest("form").find(".js-recruiter-id").val(p.data)}});function d(p){p=p||document;$(p).find(".js-clear-input").append('<i data-icon="&#x78;" class="clear-input__trigger icon-before js-clear-input-trigger"></i>')}$(".js-clear-input").each(function(){if($(this).find(".js-clear-input-input").val()!=""){$(this).find(".js-clear-input-trigger").show()}});$(document).on("input",".js-clear-input-input",function(){if($(this).val()){$(this).closest(".js-clear-input").find(".js-clear-input-trigger").show()}else{$(this).closest(".js-clear-input").find(".js-clear-input-trigger").hide();$(this).closest(".js-clear-input").find(".js-location-lookup-find-me").show()}});$(document).on("click",".js-clear-input-trigger",function(){$(this).closest(".js-clear-input").find(".js-clear-input-input").val("").focus();if($(this).parent().find(".js-location-id").length>0){if($(".js-search-jobs-form").length>0){$(".js-additional-location-input").attr("disabled",true)}if($(".js-additional-hidden-locations-form").length>0){$(".js-additional-hidden-locations-input").remove()}}$(this).hide();$(this).closest(".js-clear-input").find(".js-location-lookup-find-me").show()});$(document).on("click",".js-shortlist-trigger",function(p){if($("body").hasClass("is-signed-in")){var q=$(this);$(this).addClass("is-throbbing").attr("disabled","disabled");shortlistForm=$(this).closest(".js-shortlist-form");var r=shortlistForm.attr("action");$.ajax({url:r,type:"POST",data:shortlistForm.serialize(),timeout:20000,success:function(u){q.removeClass("is-throbbing").removeAttr("disabled");var s=MADGEXi18n.AddToShortlist;var t=MADGEXi18n.RemoveFromShortlist;if(u.result.result=="JobShortlisted"){shortlistForm.find('input[Name="Action"]').attr("value","UnShortlistJob");shortlistForm.find(".js-shortlist-trigger").removeClass("js-unshortlisted").addClass("js-shortlisted");shortlistForm.find("[data-icon]").attr("title",t).attr("data-icon","\u2605");shortlistForm.find(".js-text").html(t);o("add")}else{if(u.result.result=="JobUnShortlisted"){shortlistForm.find('input[Name="Action"]').attr("value","ShortlistJob");shortlistForm.find(".js-shortlist-trigger").removeClass("js-shortlisted").addClass("js-unshortlisted");shortlistForm.find("[data-icon]").attr("title",s).attr("data-icon","\u2606");shortlistForm.find(".js-text").html(s);o("remove")}}},error:function(){q.removeClass("is-throbbing").removeAttr("disabled")}});p.preventDefault()}});$(".js-revealphonenumber-button").click(function(p){var q=$(this);var r=this.dataset.revealEndpoint;$.get(r).done(function(s){q.parent().find(".js-revealphonenumber-target").each(function(){$(this).removeAttr("aria-hidden").text(s.result.phoneNumber)});q.hide()})});function o(r){var q=$(".js-shortlist-counter");var p=parseInt(q.html());if(r=="add"){p=p+1}else{if(r=="remove"){p=p-1}}$(q).html(p)}$(".js-lightbox").magnificPopup({type:"ajax",closeBtnInside:true,closeOnBgClick:true,closeMarkup:'<button title="%title%" class="mfp-close icon-before" data-icon="&#x78;"></button>',disableOn:550});$(document).on("click",".js-close-lightbox",function(){$.magnificPopup.close()});$(document).on("submit",".js-close-lightbox-on-submit",function(){setTimeout(function(){$.magnificPopup.close()},0)});$(".js-mailcheck").each(function(){var p=$(this).find(".js-mailcheck-input");var q=$(this).find(".js-mailcheck-container");q.hide();p.keyup(function(){q.hide();p.mailcheck({suggested:function(r,s){q.find(".js-mailcheck-suggestion").html(s.full).parent().show()},empty:function(r){q.hide()}})});q.find(".js-mailcheck-suggestion").on("click",function(r){r.preventDefault();p.val($(this).text());$(this).parent().hide()})});$(document).on("click keypress",".js-accordion-trigger",function(p){if(p.type=="click"||p.keyCode==13){p.preventDefault();$(this).toggleClass("accordion-trigger--is-active").siblings(".js-accordion-content").toggleClass("accordion-content--is-showing");h($(this));if(p.type=="click"){$(this).blur()}}});$(document).on("click keypress",".js-accordion-close",function(p){if(p.type=="click"||p.keyCode==13){p.preventDefault();$(this).closest(".js-accordion-content").removeClass("accordion-content--is-showing").siblings(".js-accordion-trigger").removeClass("accordion-trigger--is-active");var q=$(this).closest(".js-accordion-content").siblings(".js-accordion-trigger");h(q);if(p.type=="click"){$(this).blur()}}});function h(p){if(p.hasClass("accordion-trigger--is-active")){p.find(".js-edit-close-word-toggle-el").text(MADGEXi18n.Close)}else{p.find(".js-edit-close-word-toggle-el").text(MADGEXi18n.Edit)}}$(".js-checkbox-list .js-accordion-content").each(function(){if($(this).hasClass("accordion-content--is-showing")){$(this).before('<i class="js-accordion-trigger accordion-trigger accordion-trigger--is-active expand-toggle icon-after" data-icon="&#x25b6;" tabindex="0"/>')}else{$(this).before('<i class="js-accordion-trigger accordion-trigger expand-toggle icon-after" data-icon="&#x25b6;" tabindex="0"/>')}});$(".js-append-around").appendAround();$(document).on("click",".js-smooth-scrollto",function(){var p=false;if($(this).attr("href")){var q=$(this).attr("href")}else{var q=$(this);var p=true}if(p){setTimeout(function(){c(q)},310)}else{c(q)}});function c(p){$("html, body").animate({scrollTop:$(p).offset().top},140)}if(l=="palm"&&$(".filter").length>0){$(document).on("click",".js-filter-toggle-trigger",function(p){var q=$(this).closest(".filter-toggle");var r=$($(this).attr("href"));q.find(".filter-toggle__button").removeClass("filter-toggle__button--active");q.removeClass("filter-toggle--is-active");$(".filter").not(r).removeClass("filter--is-open");if(r.hasClass("filter--is-open")){r.removeClass("filter--is-open");$(this).parent().removeClass("filter-toggle__button--active")}else{r.addClass("filter--is-open");$(this).parent().addClass("filter-toggle__button--active");q.addClass("filter-toggle--is-active")}p.preventDefault()})}function g(){$(".js-count-checked").find(".js-accordion-trigger.category-header").each(function(){if(!$(this).find(".notifier").length){$(this).append('<span class="notifier">&nbsp;</span>')}})}g();function f(p){var r=p.find($(":checkbox:checked")).length;var q=p.closest(".js-accordion-content").prev().find(".notifier");if(r==0){q.html("&nbsp;")}else{q.text(MADGEXi18n.SelectedPrepend+" "+r+" "+MADGEXi18n.SelectedAppend)}}$(document).on("change",".js-count-checked :checkbox",function(){f($(this).closest(".js-checkbox-list"))});$.each($(".js-count-checked .js-checkbox-list"),function(){f($(this))});$(document).on("click",".js-popup",function(){var s=$(this).attr("data-width");var p=$(this).attr("data-height");var q=(window.screen.width/2)-((s/2)+10);var r=(window.screen.height/2)-((p/2)+50);var t="status=no,height="+p+",width="+s+",resizable=yes,left="+q+",top="+r+",screenX="+q+",screenY="+r+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";window.open(this.href,"sharer",t);return false});if(l=="palm"){$(document).on("click",".js-clickable",function(){window.location.href=$(this).find(".js-clickable-area-link").attr("href")})}if(l!="palm"){var i=function(){if($(".js-iframe-lightbox").length<1){$("body").append($("<iframe />",{src:"",name:"_iframe-submit","class":"js-iframe-lightbox"}))}$(this).closest("form").attr("target","_iframe-submit");$.magnificPopup.open({items:{type:"inline",src:".js-iframe-lightbox"},mainClass:"mfp-iframe-submit",showCloseBtn:false})};if($("[data-fileChooserDomain]").length>0){var a=$("[data-fileChooserDomain]");a.filechooser({FileChooserDomain:a.attr("data-fileChooserDomain"),OnSupported:function(){$(document).on("click",".js-filechooser-submit",i)}})}$(document).on("click",".js-iframe-submit",i)}$(document).on("click",".js-uninterrupted-submit",function(){$(this).closest("form").removeAttr("target")});$(document).on("change",".js-change-trigger",function(){var p=$(this);dataAttr=p.attr("data-select-value");if(dataAttr){selectedValue=dataAttr;if(selectedValue=="show-when-unchecked"){if(p.is(":checked")){selectedValue="hide-when-checked"}}}else{selectedValue=$(this).val()}$(".js-change-element").each(function(){var q=$(this).attr("data-change-value");if(q==selectedValue){$(this).show()}else{$(this).hide()}})});$(".js-tinynav").each(function(){header=$(this).attr("data-tinynav-header");$(this).tinyNav({header:header})});$(document).on("click",".js-browse-tabbed-trigger",function(p){p.preventDefault();$(".browse-tabbed__category").hide();$(".tabs__tab").removeClass("tabs__tab--active");$(this).parent().addClass("tabs__tab--active");$($(this).attr("href")).show()});(function(){function p(){if($(".js-cv-option-toggle-fc").length>0){if($(".js-cv-option-toggle-fc").is(":checked")){$(".js-current-cv-doc").show()}else{$(".js-current-cv-doc").hide()}}}if($("body").hasClass("is-signed-in")){$(document).on("click",".js-cv-option-toggle",p);p()}})();if($(".js-doc-parse-progress").length>0){function k(){$.ajax({url:$(".js-doc-parse-progress").attr("data-url"),type:"json",method:"get",cache:false,success:function(p){if(!p.result.parseInProgress||p.result.hasError){clearInterval(j);if(p.result.hasError){window.location.href=$(".js-doc-parse-next-url").attr("href")+"?Cverror=True"}else{window.location.href=$(".js-doc-parse-next-url").attr("href")}}}})}var j=setInterval(function(){k()},2000)}$(document).on("submit",".js-cvsm-submit",function(r){$(".js-ajax-msg").remove();var q=$(this);var w=q.attr("action");var p=q.find($('input[name="Action"]')).attr("value");var v=q.closest(".js-section");var t=q.find($('input[name="Save"]'));var u=t.attr("value");t.attr("value",MADGEXi18n.Saving);if(p=="RemoveSubSection"){if(confirm(MADGEXi18n.ConfirmRemove)){var s=true}}else{var s=true}if(s){$.ajax({url:w,type:"POST",data:q.serialize(),timeout:20000,success:function(x){if(x.result=="Success"){q.closest(".js-subsection").remove()}else{v.html(x);t.attr("value",u);v.find(".js-location-lookup").autocomplete(window.locationAutoCompleteSettings);d(v)}},error:function(){v.find(".expandable").first().prepend('<div class="padded-10 text-error js-ajax-msg">'+MADGEXi18n.AjaxError+"</div>");t.attr("value",u)},complete:function(){c(v)}})}r.preventDefault()});$(document).on("submit",".js-cvsm-addrow",function(r){$(".js-ajax-msg").remove();var q=$(this);var u=q.attr("action");var p=q.data("add");var t=q.closest(".js-section");var s=t.find(".js-subsection").last();$.ajax({url:u,type:"POST",data:q.serialize(),timeout:20000,success:function(v){if(p=="subrow"){t.find(".js-sub-subsection-container").append('<div class="cf js-subsection margin-bottom-10 highlight-lighter bordered rounded padded-10 cf">'+v+"</div>")}else{t.find(".js-subsection-container").append('<div class="js-subsection margin-bottom-10 highlight-lighter bordered rounded padded-10 cf">'+v+"</div>")}},error:function(){t.find(".expandable").first().prepend('<div class="padded-10 text-error js-ajax-msg">'+MADGEXi18n.AjaxError+"</div>")}});r.preventDefault()});$(document).on("change",".js-change-trigger-cvsm",function(){var p=$(this);dataAttr=p.attr("data-select-value-cvsm");if(dataAttr){selectedValue=dataAttr;if(selectedValue=="show-when-unchecked"){if(p.is(":checked")){selectedValue="hide-when-checked"}}}else{selectedValue=p.val()}p.closest(".js-subsection").find(".js-change-element-cvsm").each(function(){var q=$(this).attr("data-change-value-cvsm");if(q==selectedValue){$(this).show()}else{$(this).hide()}})});$(".js-webui-popover").each(function(){var p=$(this),q=p.data("popover-content");if($(q).attr("data-web-ui-popover-content")){$(q).html($(q).attr("data-web-ui-popover-content"))}p.webuiPopover({animation:"pop",url:q,placement:"top-left"})});$(document).on("click",".js-popover-close",function(p){p.preventDefault();p.stopPropagation();$(".js-webui-popover").webuiPopover("hide")});$("[maxlength]").each(function(w,u){var q=$(this),p=q.parent(".field").find(".field__notice"),x=q.attr("maxlength"),s=p.attr("data-char-count-template")||"<% remainingCount %> characters left",r,y;function z(){r=s.replace(/<% remainingCount %>/gi,v()).replace(/{{maxCount}}/gi,x);p.text(r)}function v(){return(x-q.get(0).value.length)}function t(){y=v();if(y<=0){q.get(0).value.length=x}z()}q.on("keyup keypress",t);z()});$(document).on("change",".js-cv-upload-input",function(){$(this).closest(".js-cv-upload-container").removeClass("error-outline");$(".js-cv-upload-dynamic-error-text").remove();$(this).addClass("border-success background-success");if(typeof FileReader!=="undefined"){var p=this.files[0].size;var q=parseInt($(this).data("max-filesize-mb"))*1000000;var r=$(this).data("max-filesize-error-text");if(p>q){$(this).closest(".js-cv-upload-container").addClass("error-outline").after('<div class="js-cv-upload-dynamic-error-text has-error"><p class="error-text">'+r+"</p></div>");$(this).val("");$(this).removeClass("border-success background-success")}}});$(".js-clamp-2").each(function(){$clamp(this,{clamp:2})});$(function(){var r=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];var q=".fitvidsignore";var p=$(this).find(r.join(","));p=p.not("object object");p=p.not(q);p.each(function(t){var s=$(this);s.wrap("<div class='embed-container'></div>")})})});